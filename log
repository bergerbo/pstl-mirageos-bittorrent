ocamlbuild -classic-display -use-ocamlfind -pkgs lwt.syntax,conduit.mirage,dns.mirage,fat-filesystem,io-page,io-page.unix,mirage-block-unix,mirage-console.unix,mirage-http,mirage-types.lwt,sha,tcpip.stack-socket -tags "syntax(camlp4o),annot,bin_annot,strict_sequence,principal" -tag-line "<static*.*>: -syntax(camlp4o)" -cflag -g -lflags -g,-linkpkg main.native
ocamlfind ocamldep -package uri -package cohttp.lwt -package lwt.syntax -package bencode -package tcpip.stack-socket -package sha -package mirage-types.lwt -package mirage-http -package mirage-console.unix -package mirage-block-unix -package io-page.unix -package io-page -package fat-filesystem -package dns.mirage -package conduit.mirage -syntax camlp4o -modules download.ml > download.ml.depends
ocamlfind ocamlopt -c -g -annot -bin-annot -principal -strict-sequence -package uri -package cohttp.lwt -package lwt.syntax -package bencode -package tcpip.stack-socket -package sha -package mirage-types.lwt -package mirage-http -package mirage-console.unix -package mirage-block-unix -package io-page.unix -package io-page -package fat-filesystem -package dns.mirage -package conduit.mirage -syntax camlp4o -o download.cmx download.ml
ocamlfind ocamlopt -c -g -annot -bin-annot -principal -strict-sequence -package uri -package cohttp.lwt -package lwt.syntax -package bencode -package tcpip.stack-socket -package sha -package mirage-types.lwt -package mirage-http -package mirage-console.unix -package mirage-block-unix -package io-page.unix -package io-page -package fat-filesystem -package dns.mirage -package conduit.mirage -syntax camlp4o -o torrent_parser.cmx torrent_parser.ml
ocamlfind ocamlopt -c -g -annot -bin-annot -principal -strict-sequence -package uri -package cohttp.lwt -package lwt.syntax -package bencode -package tcpip.stack-socket -package sha -package mirage-types.lwt -package mirage-http -package mirage-console.unix -package mirage-block-unix -package io-page.unix -package io-page -package fat-filesystem -package dns.mirage -package conduit.mirage -syntax camlp4o -o main.cmx main.ml
ocamlfind ocamlopt -g -linkpkg -linkpkg -package uri -package cohttp.lwt -package lwt.syntax -package bencode -package tcpip.stack-socket -package sha -package mirage-types.lwt -package mirage-http -package mirage-console.unix -package mirage-block-unix -package io-page.unix -package io-page -package fat-filesystem -package dns.mirage -package conduit.mirage -syntax camlp4o torrent.cmx download.cmx torrent_parser.cmx main.cmx -o main.native
ln -nfs _build/main.native mir-main
