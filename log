ocamlbuild -classic-display -use-ocamlfind -pkgs lwt.syntax,conduit.mirage,fat-filesystem,io-page,io-page.unix,mirage-block-unix,mirage-clock-unix,mirage-console.unix,mirage-http,mirage-net-unix,mirage-types.lwt,mirage.runtime,tcpip.stack-direct -tags "syntax(camlp4o),annot,bin_annot,strict_sequence,principal" -tag-line "<static*.*>: -syntax(camlp4o)" -cflag -g -lflags -g,-linkpkg main.native
ocamlfind ocamldep -package uri -package cohttp.lwt -package lwt.syntax -package bencode -package tcpip.stack-direct -package mirage.runtime -package mirage-types.lwt -package mirage-net-unix -package mirage-http -package mirage-console.unix -package mirage-clock-unix -package mirage-block-unix -package io-page.unix -package io-page -package fat-filesystem -package conduit.mirage -syntax camlp4o -modules main.ml > main.ml.depends
ocamlfind ocamlc -c -g -annot -bin-annot -principal -strict-sequence -package uri -package cohttp.lwt -package lwt.syntax -package bencode -package tcpip.stack-direct -package mirage.runtime -package mirage-types.lwt -package mirage-net-unix -package mirage-http -package mirage-console.unix -package mirage-clock-unix -package mirage-block-unix -package io-page.unix -package io-page -package fat-filesystem -package conduit.mirage -syntax camlp4o -o main.cmo main.ml
ocamlfind ocamlopt -c -g -annot -bin-annot -principal -strict-sequence -package uri -package cohttp.lwt -package lwt.syntax -package bencode -package tcpip.stack-direct -package mirage.runtime -package mirage-types.lwt -package mirage-net-unix -package mirage-http -package mirage-console.unix -package mirage-clock-unix -package mirage-block-unix -package io-page.unix -package io-page -package fat-filesystem -package conduit.mirage -syntax camlp4o -o main.cmx main.ml
ocamlfind ocamlopt -g -linkpkg -linkpkg -package uri -package cohttp.lwt -package lwt.syntax -package bencode -package tcpip.stack-direct -package mirage.runtime -package mirage-types.lwt -package mirage-net-unix -package mirage-http -package mirage-console.unix -package mirage-clock-unix -package mirage-block-unix -package io-page.unix -package io-page -package fat-filesystem -package conduit.mirage -syntax camlp4o torrent.cmx torrent_parser.cmx main.cmx -o main.native
ln -nfs _build/main.native mir-main
